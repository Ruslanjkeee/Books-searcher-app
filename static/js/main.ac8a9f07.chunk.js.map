{"version":3,"sources":["components/UI/Loader/Loader.module.css","components/UI/button/MyButton.module.css","components/UI/input/MyInput.module.css","components/UI/select/MySelect.module.css","stores/formStore.js","stores/bookStore.js","stores/cardsStore.js","API/BookService.js","components/CardItem.jsx","components/UI/button/MyButton.jsx","components/UI/Loader/Loader.jsx","stores/startSettingStore.js","components/CardList.jsx","components/UI/input/MyInput.jsx","components/UI/select/MySelect.jsx","components/CardsForm.jsx","components/AppHeader.jsx","hooks/useFetching.js","components/CardInfo/CardInfo.jsx","App.js","index.js","components/CardInfo/CardInfo.module.css"],"names":["module","exports","formStore","makeAutoObservable","input","selectedCategory","selectedSort","setInput","str","this","setSelectedCategory","setSelectedSort","bookStore","bookInfo","bookId","showBookInfo","setBookInfo","info","setBookId","id","setShowBookInfo","boolean","cardsStore","cards","totalCards","startIndex","updateCards","ar","setTotalCards","n","setStartIndex","_api","BookService","fetch","response","status","json","result","Error","statusText","CardItem","card","srcImg","volumeInfo","imageLinks","smallThumbnail","category","categories","title","authors","join","className","src","alt","MyButton","props","classes","myButton","children","Loader","wrapper","loader","startSettingStore","isStartApp","pagStep","setIsStartApp","CardList","observer","fetchBookById","loadMore","isLoading","onClick","e","target","closest","map","index","MyInput","search_input","MySelect","options","defaultValue","value","onChange","option","CardsForm","fetchBooks","clickHandler","preventDefault","type","ev","placeholder","onKeyDown","key","htmlFor","sort","AppHeader","useFetching","callback","useState","setIsLoading","error","setError","fetching","a","message","CardInfo","description","card_img","thumbnail","img","card_info","info_category","info_title","info_author","info_description","card_btn","App","getAll","books","totalItems","items","isBooksLoading","fetchError","isMoreBooksLoading","fetchMoreError","getById","book","isBookLoading","fetchBookError","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ac8a9f07.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__1QPVC\",\"loader\":\"Loader_loader__dbOY1\",\"loading\":\"Loader_loading__3DHlV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myButton\":\"MyButton_myButton__2qzcA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_input\":\"MyInput_search_input__24nU0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MySelect\":\"MySelect_MySelect__aN3VS\"};","import { makeAutoObservable } from 'mobx';\r\n\r\nfunction FormStore () {\r\n    return makeAutoObservable({\r\n        input: '',\r\n        selectedCategory: 'all',\r\n        selectedSort: 'relevance',\r\n        setInput(str) {\r\n            this.input = str;\r\n        },\r\n        setSelectedCategory(str) {\r\n            this.selectedCategory = str;\r\n        },\r\n        setSelectedSort(str) {\r\n            this.selectedSort = str;\r\n        },\r\n    })\r\n}\r\n\r\nconst formStore = new FormStore();\r\nexport default formStore;\r\n","import { makeAutoObservable } from 'mobx';\r\n\r\nfunction BookStore () {\r\n    return makeAutoObservable({\r\n        bookInfo: {},\r\n        bookId: '',\r\n        showBookInfo: false,\r\n        setBookInfo(info) {\r\n            this.bookInfo = info;\r\n        },\r\n        setBookId(id) {\r\n            this.bookId = id;\r\n        },\r\n        setShowBookInfo(boolean) {\r\n            this.showBookInfo = boolean;\r\n        }\r\n    })\r\n}\r\n\r\nconst bookStore = new BookStore();\r\nexport default bookStore;","import { makeAutoObservable } from 'mobx';\r\n\r\nfunction CardsStore () {\r\n    return makeAutoObservable({\r\n        cards: [],\r\n        totalCards: 0,\r\n        startIndex: 0,\r\n        updateCards(ar) {\r\n            this.cards = ar;\r\n        },\r\n        setTotalCards(n) {\r\n            this.totalCards = n;\r\n        },\r\n        setStartIndex(n) {\r\n            this.startIndex = n;\r\n        }\r\n    })\r\n}\r\n\r\nconst cardsStore = new CardsStore();\r\nexport default cardsStore;","import formStore from \"../stores/formStore\";\r\nimport bookStore from \"../stores/bookStore\";\r\nimport cardsStore from \"../stores/cardsStore\";\r\nconst _api = 'AIzaSyAN3icd9YJN7u0ksQQR619M8icQYgqodhc';\r\n\r\nexport default class BookService {\r\n    static async getAll() {\r\n        let response = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${formStore.input}${\r\n            formStore.selectedCategory === 'all'\r\n                ? \"\" \r\n                : '+subject:' + formStore.selectedCategory\r\n            }&orderBy=${formStore.selectedSort}&startIndex=${ cardsStore.startIndex }&maxResults=30&key=${_api}`);\r\n        let result;\r\n        if (response.status >= 200 && response.status <= 299) {\r\n            result = await response.json();\r\n        } else {\r\n            throw Error(response.statusText);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static async getById() {\r\n        let response = await fetch(`https://www.googleapis.com/books/v1/volumes/${bookStore.bookId}?key=${_api}`);\r\n        let result;\r\n        if (response.status >= 200 && response.status <= 299) {\r\n            result = await response.json();\r\n        } else {\r\n            throw Error(response.statusText);\r\n        }\r\n        return result;\r\n    }\r\n}","import React from 'react';\r\n\r\nconst CardItem = ({card}) => {\r\n    let srcImg = card.volumeInfo.imageLinks?.smallThumbnail;\r\n    let category = card.volumeInfo?.categories?.[0];\r\n    let title = card.volumeInfo?.title;\r\n    let authors = card.volumeInfo?.authors?.join(', ');\r\n    \r\n    if (!srcImg) srcImg = '';\r\n    if (!authors) authors = '';\r\n    if (!title) title = '';\r\n    if (!category) category = '';\r\n\r\n    return (\r\n        <div className=\"card\" id={card.id}>\r\n            <div className=\"card_img-container\">\r\n                <img src={srcImg} alt=\"book cover\" className=\"card_img\"/>\r\n            </div>\r\n            <p className=\"card_category\">{category}</p>\r\n            <p className=\"card_title\">{title}</p>\r\n            <p className=\"card_autor\">{authors}</p>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CardItem;","import React from 'react';\r\nimport classes from './MyButton.module.css';\r\n\r\nconst MyButton = (props) => {\r\n    return (\r\n        <button {...props} className={classes.myButton}>\r\n            {props.children}\r\n        </button>\r\n    )\r\n};\r\n\r\nexport default MyButton;","import React from 'react';\r\nimport classes from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <p>Loading...</p>\r\n            <div className={classes.loader}></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Loader;","import { makeAutoObservable } from 'mobx';\r\n\r\nfunction StartSettingStore () {\r\n    return makeAutoObservable({\r\n        isStartApp: true,\r\n        pagStep: 30,\r\n        setIsStartApp (boolean) {\r\n            this.isStartApp = boolean;\r\n        }\r\n    })\r\n}\r\n\r\nconst startSettingStore = new StartSettingStore();\r\nexport default startSettingStore;","import React from 'react';\r\nimport CardItem from './CardItem';\r\nimport MyButton from './UI/button/MyButton';\r\nimport Loader from './UI/Loader/Loader';\r\nimport { observer } from 'mobx-react-lite';\r\nimport bookStore from '../stores/bookStore';\r\nimport cardsStore from '../stores/cardsStore';\r\nimport startSettingStore from '../stores/startSettingStore';\r\n\r\nconst CardList = observer(({fetchBookById, loadMore, isLoading}) => {\r\n\r\n    function delegateClickHandler(e) {\r\n        let card = e.target.closest('.card');\r\n        if(card) {\r\n            bookStore.setBookId(card.id);\r\n            bookStore.setShowBookInfo(true);\r\n            fetchBookById();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"main\"> \r\n            <p className='main_results'>Found {cardsStore.totalCards} results</p>\r\n            <div className=\"cards\" onClick={delegateClickHandler}>\r\n                {cardsStore.cards.map((card, index) =>\r\n                    <CardItem card={card} key={card.id + index}/>    \r\n                )}\r\n            </div>\r\n            {isLoading\r\n                ? <Loader/>\r\n                : cardsStore.totalCards > cardsStore.startIndex + startSettingStore.pagStep\r\n                    ? <MyButton onClick={loadMore} className=\"load-cards\">Load more</MyButton>\r\n                    : ''\r\n            }\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default CardList;","import React from 'react';\r\nimport classes from './MyInput.module.css';\r\n\r\nconst MyInput = (props) => {\r\n    return (\r\n        <input className={classes.search_input} {...props}/>\r\n    )\r\n};\r\n\r\nexport default MyInput;","import React from 'react';\r\nimport classes from './MySelect.module.css'\r\n\r\nconst MySelect = ({options, defaultValue, value, onChange}) => {\r\n    return (\r\n        <select \r\n            id=\"categories\" \r\n            className={classes.MySelect} \r\n            value={value}\r\n            onChange={e => onChange(e.target.value)}\r\n        >\r\n            <option value=\"\">{defaultValue}</option>\r\n            {options.map(option => \r\n                <option key={option} value={option}>\r\n                    {option}\r\n                </option>\r\n            )}\r\n        </select>\r\n    )\r\n};\r\n\r\nexport default MySelect;","import React from 'react';\r\nimport MyButton from './UI/button/MyButton';\r\nimport MyInput from './UI/input/MyInput';\r\nimport MySelect from './UI/select/MySelect';\r\nimport formStore from '../stores/formStore';\r\nimport startSettingStore from '../stores/startSettingStore';\r\nimport { observer } from 'mobx-react-lite';\r\n\r\nconst CardsForm = observer(({fetchBooks}) => {\r\n    \r\n    function clickHandler(e) {\r\n        if(e) e.preventDefault();\r\n        if(formStore.input) {\r\n            fetchBooks();\r\n            \r\n        }\r\n        if(startSettingStore.isStartApp) {\r\n            startSettingStore.setIsStartApp(false);\r\n        }\r\n    }\r\n\r\n    function keyDownHandler(e) {\r\n        if(e.key === 'Enter') {\r\n            clickHandler();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <div className=\"header_search\">\r\n                <MyInput \r\n                    type=\"text\" \r\n                    value={formStore.input} \r\n                    onChange={ev => formStore.setInput(ev.target.value)} \r\n                    placeholder=\"type the book name\"\r\n                    onKeyDown={keyDownHandler}\r\n                />\r\n                <MyButton onClick={clickHandler}>Search the book</MyButton>\r\n            </div>\r\n            <div className='header_filters'>\r\n                <div className=\"filters_category\">\r\n                    <label htmlFor='categories' className='filters_name'>Categories</label>\r\n                    <MySelect\r\n                        value={formStore.selectedCategory}\r\n                        onChange={category => formStore.setSelectedCategory(category)}\r\n                        defaultValue=\"all\"\r\n                        options={['art', 'biography', 'computers', 'history', 'medical', 'poetry']}\r\n                    />\r\n                </div>\r\n                <div className=\"filters_sort\">\r\n                    <label htmlFor='sorting' className='filters_name'>Sorting by</label>\r\n                    <MySelect\r\n                        value={formStore.selectedSort}\r\n                        onChange={sort => formStore.setSelectedSort(sort)}\r\n                        defaultValue=\"relevance\"\r\n                        options={['newest']}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n});\r\n\r\nexport default CardsForm;","import React from 'react';\r\nimport CardsForm from './CardsForm';\r\n\r\nconst AppHeader = ({ fetchBooks }) => {\r\n    return (\r\n        <header className='header'>\r\n            <h1 className='header_title'>Search for books</h1>\r\n            <CardsForm \r\n                fetchBooks={fetchBooks} \r\n            />\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default AppHeader;","import { useState } from \"react\";\r\n\r\n\r\nexport const useFetching = (callback) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const fetching = async (...args) => {\r\n        try {\r\n            setIsLoading(true);\r\n            await callback(...args);\r\n        } catch (e) {\r\n            setError(e.message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    return [fetching, isLoading, error];\r\n}","import { observer } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport classes from './CardInfo.module.css';\r\nimport bookStore from '../../stores/bookStore';\r\n\r\nconst CardInfo = observer((props) => {\r\n    let bookInfo = bookStore.bookInfo;\r\n\r\n    function clickHandler(e) {\r\n        bookStore.setShowBookInfo(false);\r\n    }\r\n\r\n    let description = bookInfo?.volumeInfo?.description || 'There is no description';\r\n    let title = bookInfo?.volumeInfo?.title || '';\r\n    let authors = bookInfo?.volumeInfo?.authors?.join(', ') || '';\r\n    let categories = bookInfo?.volumeInfo?.categories?.join(', ') || '';\r\n\r\n    return (\r\n        <div className={classes.card}>\r\n            <div className={classes.card_img}>\r\n                <img src={bookInfo?.volumeInfo?.imageLinks?.thumbnail} alt=\"\" className={classes.img}/>\r\n            </div>\r\n            <div className={classes.card_info}>\r\n                <p className={classes.info_category}>{categories}</p>\r\n                <p className={classes.info_title}>{title}</p>\r\n                <p className={classes.info_author}>{authors}</p>\r\n                <p className={classes.info_description}>{description}</p>\r\n            </div>\r\n            <button className={classes.card_btn} onClick={clickHandler}>X</button>\r\n        </div>   \r\n    )\r\n});\r\n\r\nexport default CardInfo;","import React from 'react';\r\nimport BookService from './API/BookService';\r\nimport CardList from './components/CardList';\r\nimport AppHeader from './components/AppHeader';\r\nimport { useFetching } from './hooks/useFetching';\r\nimport Loader from './components/UI/Loader/Loader';\r\nimport './styles/App.css';\r\nimport CardInfo from './components/CardInfo/CardInfo';\r\nimport bookStore from './stores/bookStore';\r\nimport formStore from './stores/formStore';\r\nimport cardsStore from './stores/cardsStore';\r\nimport startSettingStore from './stores/startSettingStore';\r\nimport { Observer } from 'mobx-react-lite';\r\n\r\nfunction App() {\r\n    const [fetchBooks, isBooksLoading, fetchError] = useFetching(async () => {\r\n        cardsStore.setStartIndex(0);\r\n        bookStore.setShowBookInfo(false);\r\n        let books = await BookService.getAll();\r\n        cardsStore.setTotalCards(books.totalItems);\r\n        if(books.totalItems) {\r\n            cardsStore.updateCards(books.items);\r\n        } else {\r\n            cardsStore.updateCards([]);\r\n        }\r\n    })\r\n    \r\n    const [loadMore, isMoreBooksLoading, fetchMoreError] = useFetching(async () => {\r\n        cardsStore.setStartIndex(cardsStore.startIndex + formStore.pagStep);\r\n        let books = await BookService.getAll();\r\n        if(books.totalItems) {\r\n            cardsStore.updateCards([...cardsStore.cards, ...books.items])\r\n        }\r\n    })\r\n    \r\n    const [fetchBookById, isBookLoading, fetchBookError] = useFetching(async () => {\r\n        let book = await BookService.getById();\r\n        bookStore.setBookInfo(book);\r\n    })\r\n    \r\n    return (\r\n        <div className=\"App\">\r\n            <AppHeader fetchBooks={fetchBooks}/>\r\n\r\n            {(fetchError || fetchMoreError || fetchBookError) &&\r\n                <h2 className=\"error\">Ooops, an error occured: {fetchError || fetchMoreError || fetchBookError}</h2>\r\n            }\r\n            <Observer>{() => (\r\n                bookStore.showBookInfo \r\n                    ? isBookLoading\r\n                        ? <Loader/>\r\n                        : <CardInfo/>\r\n                    : ''\r\n            )}</Observer>\r\n            <Observer>{() => ( isBooksLoading && <Loader/> )}</Observer>\r\n            <Observer>{() => (\r\n                !bookStore.showBookInfo && !isBooksLoading && !startSettingStore.isStartApp\r\n                    && <CardList fetchBookById={fetchBookById} loadMore={loadMore} isLoading={isMoreBooksLoading}/>        \r\n            )}</Observer>            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"CardInfo_card__3TIjv\",\"card_img\":\"CardInfo_card_img__3zFg0\",\"card_info\":\"CardInfo_card_info__1izzO\",\"info_title\":\"CardInfo_info_title__3fVMI\",\"info_author\":\"CardInfo_info_author__2Iq8v\",\"info_category\":\"CardInfo_info_category__3IrcQ\",\"info_description\":\"CardInfo_info_description__1e8G4\",\"card_btn\":\"CardInfo_card_btn__4Zk0r\"};"],"sourceRoot":""}