{"version":3,"sources":["components/UI/Loader/Loader.module.css","components/UI/button/MyButton.module.css","components/UI/input/MyInput.module.css","components/UI/select/MySelect.module.css","stores/formStore.js","stores/bookStore.js","stores/cardsStore.js","API/BookService.js","components/CardItem.jsx","components/UI/button/MyButton.jsx","components/UI/Loader/Loader.jsx","stores/startSettingStore.js","hooks/useFetching.js","components/FetchError.jsx","components/CardList.jsx","components/UI/input/MyInput.jsx","components/UI/select/MySelect.jsx","components/CardsForm.jsx","components/AppHeader/AppHeader.jsx","components/CardInfo/CardInfo.jsx","App.js","index.js","components/AppHeader/AppHeader.module.css","components/CardInfo/CardInfo.module.css"],"names":["module","exports","formStore","makeAutoObservable","input","selectedCategory","selectedSort","setInput","str","this","setSelectedCategory","setSelectedSort","bookStore","bookInfo","bookId","showBookInfo","setBookInfo","info","setBookId","id","setShowBookInfo","boolean","cardsStore","cards","totalCards","startIndex","updateCards","ar","setTotalCards","n","setStartIndex","_api","process","BookService","fetch","response","status","json","result","Error","statusText","CardItem","srcImg","category","title","authors","card","volumeInfo","imageLinks","smallThumbnail","categories","join","className","src","alt","React","memo","MyButton","props","classes","myButton","children","Loader","wrapper","loader","startSettingStore","isStartApp","pagStep","setIsStartApp","useFetching","callback","useState","isLoading","setIsLoading","error","setError","fetching","a","message","FetchError","fetchError","fetchMoreError","fetchBookError","CardList","observer","getAll","books","totalItems","items","loadMore","isMoreBooksLoading","handleClick","useCallback","e","target","closest","length","onClick","map","index","MyInput","search_input","MySelect","options","defaultValue","value","onChange","option","CardsForm","fetchBooks","clickHandler","preventDefault","header_search","type","ev","placeholder","onKeyDown","key","header_filters","filters_category","htmlFor","filters_name","filters_sort","sort","AppHeader","header","header_title","CardInfo","getById","book","fetchBookById","isBookLoading","useEffect","thumbnail","description","card_img","img","card_info","info_category","info_title","info_author","info_description","card_btn","App","isBooksLoading","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0add0e48.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__1QPVC\",\"loader\":\"Loader_loader__dbOY1\",\"loading\":\"Loader_loading__3DHlV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myButton\":\"MyButton_myButton__2qzcA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_input\":\"MyInput_search_input__24nU0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MySelect\":\"MySelect_MySelect__aN3VS\"};","import { makeAutoObservable } from 'mobx';\r\n\r\nfunction FormStore () {\r\n    return makeAutoObservable({\r\n        input: '',\r\n        selectedCategory: 'all',\r\n        selectedSort: 'relevance',\r\n        setInput(str) {\r\n            this.input = str;\r\n        },\r\n        setSelectedCategory(str) {\r\n            this.selectedCategory = str;\r\n        },\r\n        setSelectedSort(str) {\r\n            this.selectedSort = str;\r\n        },\r\n    })\r\n}\r\n\r\nconst formStore = new FormStore();\r\nexport default formStore;\r\n","import { makeAutoObservable } from 'mobx';\r\n\r\nfunction BookStore () {\r\n    \r\n    return makeAutoObservable({\r\n        bookInfo: {},\r\n        bookId: '',\r\n        showBookInfo: false,\r\n\r\n        setBookInfo(info) {\r\n            this.bookInfo = info;\r\n        },\r\n\r\n        setBookId(id) {\r\n            this.bookId = id;\r\n        },\r\n\r\n        setShowBookInfo(boolean) {\r\n            this.showBookInfo = boolean;\r\n        }\r\n    })\r\n}\r\n\r\nconst bookStore = new BookStore();\r\nexport default bookStore;","import { makeAutoObservable } from 'mobx';\r\n\r\nfunction CardsStore () {\r\n    return makeAutoObservable({\r\n        cards: [],\r\n        totalCards: 0,\r\n        startIndex: 0,\r\n        updateCards(ar) {\r\n            this.cards = ar;\r\n        },\r\n        setTotalCards(n) {\r\n            this.totalCards = n;\r\n        },\r\n        setStartIndex(n) {\r\n            this.startIndex = n;\r\n        }\r\n    })\r\n}\r\n\r\nconst cardsStore = new CardsStore();\r\nexport default cardsStore;","import formStore from \"../stores/formStore\";\r\nimport bookStore from \"../stores/bookStore\";\r\nimport cardsStore from \"../stores/cardsStore\";\r\n\r\nconst _api = process.env.REACT_APP_API_KEY;\r\n\r\nexport default class BookService {\r\n    static async getAll() {\r\n        let response = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${formStore.input}${\r\n            formStore.selectedCategory === 'all'\r\n                ? \"\" \r\n                : '+subject:' + formStore.selectedCategory\r\n            }&orderBy=${formStore.selectedSort}&startIndex=${ cardsStore.startIndex }&maxResults=30&key=${_api}`);\r\n        let result;\r\n        if (response.status >= 200 && response.status <= 299) {\r\n            result = await response.json();\r\n        } else {\r\n            throw Error(response.statusText);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static async getById() {\r\n        let response = await fetch(`https://www.googleapis.com/books/v1/volumes/${bookStore.bookId}?key=${_api}`);\r\n        let result;\r\n        if (response.status >= 200 && response.status <= 299) {\r\n            result = await response.json();\r\n        } else {\r\n            throw Error(response.statusText);\r\n        }\r\n        return result;\r\n    }\r\n}","import React from 'react';\r\n\r\nconst CardItem = ({card}) => {\r\n    let srcImg, category, title, authors;\r\n\r\n    if(card?.volumeInfo) {\r\n        srcImg = card.volumeInfo.imageLinks?.smallThumbnail;\r\n        category = card.volumeInfo.categories?.[0];\r\n        title = card.volumeInfo.title;\r\n        authors = card.volumeInfo.authors?.join(', ');\r\n    }\r\n    \r\n    if (!srcImg) srcImg = '';\r\n    if (!authors) authors = '';\r\n    if (!title) title = '';\r\n    if (!category) category = '';\r\n\r\n    return (\r\n        <div className=\"card\" id={card.id}>\r\n            <div className=\"card_img-container\">\r\n                <img src={srcImg} alt=\"book cover\" className=\"card_img\"/>\r\n            </div>\r\n            <p className=\"card_category\">{category}</p>\r\n            <p className=\"card_title\">{title}</p>\r\n            <p className=\"card_autor\">{authors}</p>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default React.memo(CardItem);","import React from 'react';\r\nimport classes from './MyButton.module.css';\r\n\r\nconst MyButton = (props) => {\r\n    return (\r\n        <button {...props} className={classes.myButton}>\r\n            {props.children}\r\n        </button>\r\n    )\r\n};\r\n\r\nexport default MyButton;","import React from 'react';\r\nimport classes from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <p>Loading...</p>\r\n            <div className={classes.loader}></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Loader;","import { makeAutoObservable } from 'mobx';\r\n\r\nfunction StartSettingStore () {\r\n    return makeAutoObservable({\r\n        isStartApp: true,\r\n        pagStep: 30,\r\n        setIsStartApp (boolean) {\r\n            this.isStartApp = boolean;\r\n        }\r\n    })\r\n}\r\n\r\nconst startSettingStore = new StartSettingStore();\r\nexport default startSettingStore;","import { useState } from \"react\";\r\n\r\n\r\nexport const useFetching = (callback) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const fetching = async (...args) => {\r\n        try {\r\n            setIsLoading(true);\r\n            await callback(...args);\r\n        } catch (e) {\r\n            setError(e.message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    return [fetching, isLoading, error];\r\n}","import React from 'react';\r\n\r\nconst FetchError = (props) => {\r\n    \r\n    if(props.fetchError || props.fetchMoreError || props.fetchBookError) {\r\n        return (\r\n            <h2 className=\"error\">\r\n                Ooops, an error occured: {props.fetchError || props.fetchMoreError || props.fetchBookError}\r\n            </h2>\r\n        )\r\n    } else {\r\n        return null;\r\n    }\r\n    \r\n};\r\nexport default FetchError;","import React, {useCallback} from 'react';\r\nimport CardItem from './CardItem';\r\nimport MyButton from './UI/button/MyButton';\r\nimport Loader from './UI/Loader/Loader';\r\nimport { observer } from 'mobx-react-lite';\r\nimport bookStore from '../stores/bookStore';\r\nimport cardsStore from '../stores/cardsStore';\r\nimport startSettingStore from '../stores/startSettingStore';\r\nimport BookService from '../API/BookService';\r\nimport { useFetching } from '../hooks/useFetching';\r\nimport FetchError from './FetchError';\r\n\r\nconst CardList = observer(({fetchError}) => {\r\n\r\n    const [loadMore, isMoreBooksLoading, fetchMoreError] = useFetching(async () => {\r\n        cardsStore.setStartIndex(cardsStore.startIndex + startSettingStore.pagStep);\r\n        let books = await BookService.getAll();\r\n       \r\n        if(books.totalItems && books.items) {\r\n            cardsStore.setTotalCards(books.totalItems);\r\n            cardsStore.updateCards([...cardsStore.cards, ...books.items]);\r\n        }\r\n    })\r\n\r\n    const handleClick = useCallback(\r\n        (e) => {\r\n            let card = e.target.closest('.card');\r\n            if(card) {\r\n                bookStore.setBookId(card.id);\r\n                bookStore.setShowBookInfo(true);\r\n            }\r\n    }, []);\r\n\r\n    if(fetchMoreError || fetchError) {\r\n        return (\r\n            <FetchError\r\n                fetchMoreError={fetchMoreError}\r\n                fetchError={fetchError} \r\n            />\r\n        )\r\n    }\r\n   \r\n    return (\r\n        <div className=\"main\"> \r\n            <p className='main_results'>Found {cardsStore.totalCards} results</p>\r\n            {cardsStore.cards.length > 0 &&\r\n                <div className=\"cards\" onClick={handleClick}>\r\n                    {cardsStore.cards.map((card, index) =>\r\n                        <CardItem card={card} key={card.id + index}/>    \r\n                    )}\r\n                </div>\r\n            }\r\n            {isMoreBooksLoading\r\n                ? <Loader/>\r\n                : cardsStore.totalCards > cardsStore.startIndex + startSettingStore.pagStep\r\n                    ? <MyButton onClick={loadMore} className=\"load-cards\">Load more</MyButton>\r\n                    : null\r\n            }\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default CardList;","import React from 'react';\r\nimport classes from './MyInput.module.css';\r\n\r\nconst MyInput = (props) => {\r\n    return (\r\n        <input className={classes.search_input} {...props}/>\r\n    )\r\n};\r\n\r\nexport default MyInput;","import React from 'react';\r\nimport classes from './MySelect.module.css'\r\n\r\nconst MySelect = ({options, defaultValue, value, onChange}) => {\r\n    return (\r\n        <select \r\n            id=\"categories\" \r\n            className={classes.MySelect} \r\n            value={value}\r\n            onChange={e => onChange(e.target.value)}\r\n        >\r\n            <option value=\"\">{defaultValue}</option>\r\n            {options.map(option => \r\n                <option key={option} value={option}>\r\n                    {option}\r\n                </option>\r\n            )}\r\n        </select>\r\n    )\r\n};\r\n\r\nexport default MySelect;","import React from 'react';\r\nimport MyButton from './UI/button/MyButton';\r\nimport MyInput from './UI/input/MyInput';\r\nimport MySelect from './UI/select/MySelect';\r\nimport formStore from '../stores/formStore';\r\nimport startSettingStore from '../stores/startSettingStore';\r\nimport { observer } from 'mobx-react-lite';\r\nimport classes from './AppHeader/AppHeader.module.css';\r\n\r\nconst CardsForm = observer(({fetchBooks}) => {\r\n  \r\n    function clickHandler(e) {\r\n        if(e) e.preventDefault();\r\n        if(formStore.input === '') return;\r\n\r\n        fetchBooks();    \r\n        if(startSettingStore.isStartApp) {\r\n            startSettingStore.setIsStartApp(false);\r\n        }\r\n    }\r\n\r\n    function keyDownHandler(e) {\r\n        if(e.key === 'Enter') {\r\n            clickHandler();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <div className={classes.header_search}>\r\n                <MyInput \r\n                    type=\"text\" \r\n                    value={formStore.input} \r\n                    onChange={ev => formStore.setInput(ev.target.value)} \r\n                    placeholder=\"type the book name\"\r\n                    onKeyDown={keyDownHandler}\r\n                />\r\n                <MyButton onClick={clickHandler}>Search the book</MyButton>\r\n            </div>\r\n            <div className={classes.header_filters}>\r\n                <div className={classes.filters_category}>\r\n                    <label htmlFor='categories' className={classes.filters_name}>Categories</label>\r\n                    <MySelect\r\n                        value={formStore.selectedCategory}\r\n                        onChange={category => formStore.setSelectedCategory(category)}\r\n                        defaultValue=\"all\"\r\n                        options={['art', 'biography', 'computers', 'history', 'medical', 'poetry']}\r\n                    />\r\n                </div>\r\n                <div className={classes.filters_sort}>\r\n                    <label htmlFor='sorting' className={classes.filters_name}>Sorting by</label>\r\n                    <MySelect\r\n                        value={formStore.selectedSort}\r\n                        onChange={sort => formStore.setSelectedSort(sort)}\r\n                        defaultValue=\"relevance\"\r\n                        options={['newest']}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n});\r\n\r\nexport default CardsForm;","import React from 'react';\r\nimport CardsForm from '../CardsForm';\r\nimport classes from './AppHeader.module.css'\r\n\r\nconst AppHeader = ({ fetchBooks }) => {\r\n    \r\n    return (\r\n        <header className={classes.header}>\r\n            <h1 className={classes.header_title}>Search for books</h1>\r\n            <CardsForm \r\n                fetchBooks={fetchBooks} \r\n            />\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default React.memo(AppHeader);","import { observer } from 'mobx-react-lite';\r\nimport React, { useCallback, useEffect } from 'react';\r\nimport classes from './CardInfo.module.css';\r\nimport bookStore from '../../stores/bookStore';\r\nimport BookService from '../../API/BookService';\r\nimport { useFetching } from '../../hooks/useFetching';\r\nimport Loader from '../UI/Loader/Loader';\r\nimport FetchError from '../FetchError';\r\n\r\nconst CardInfo = observer((props) => {\r\n\r\n    const [fetchBookById, isBookLoading, fetchBookError] = useFetching(async () => {\r\n        let book = await BookService.getById();\r\n        bookStore.setBookInfo(book);\r\n    })\r\n    \r\n    useEffect(() => {\r\n        fetchBookById();\r\n    }, []);\r\n\r\n    let bookInfo = bookStore.bookInfo;\r\n    let volumeInfo = bookInfo?.volumeInfo;\r\n\r\n    const clickHandler = useCallback((e) => {\r\n        bookStore.setShowBookInfo(false);\r\n    }, []);\r\n\r\n    let srcImg = volumeInfo?.imageLinks?.thumbnail || '';\r\n    let description = volumeInfo?.description || 'There is no description';\r\n    let title = volumeInfo?.title || '';\r\n    let authors = volumeInfo?.authors?.join(', ') || '';\r\n    let categories = volumeInfo?.categories?.join(', ') || '';\r\n\r\n    if(fetchBookError) {\r\n        return (\r\n            <FetchError\r\n                fetchBookError={fetchBookError}\r\n            />\r\n        )\r\n    }\r\n\r\n    if(isBookLoading) {\r\n        return <Loader/>\r\n    }\r\n\r\n    return (\r\n        <div className={classes.card}>\r\n            <div className={classes.card_img}>\r\n                <img src={srcImg} alt=\"book\" className={classes.img}/>\r\n            </div>\r\n            <div className={classes.card_info}>\r\n                <p className={classes.info_category}>{categories}</p>\r\n                <p className={classes.info_title}>{title}</p>\r\n                <p className={classes.info_author}>{authors}</p>\r\n                <p className={classes.info_description}>{description}</p>\r\n            </div>\r\n            <button className={classes.card_btn} onClick={clickHandler}>X</button>\r\n        </div>   \r\n    )\r\n});\r\n\r\nexport default CardInfo;","import React from 'react';\r\nimport BookService from './API/BookService';\r\nimport CardList from './components/CardList';\r\nimport AppHeader from './components/AppHeader/AppHeader';\r\nimport { useFetching } from './hooks/useFetching';\r\nimport Loader from './components/UI/Loader/Loader';\r\nimport './styles/App.css';\r\nimport CardInfo from './components/CardInfo/CardInfo';\r\nimport bookStore from './stores/bookStore';\r\nimport cardsStore from './stores/cardsStore';\r\nimport startSettingStore from './stores/startSettingStore';\r\nimport { Observer } from 'mobx-react-lite';\r\n\r\nfunction App() {\r\n    const [fetchBooks, isBooksLoading, fetchError] = useFetching(async () => {\r\n        cardsStore.setStartIndex(0);\r\n        bookStore.setShowBookInfo(false);\r\n        let books = await BookService.getAll();\r\n        cardsStore.setTotalCards(books.totalItems);\r\n        if(books.totalItems) {\r\n            cardsStore.updateCards(books.items);\r\n        } else {\r\n            cardsStore.updateCards([]);\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <AppHeader fetchBooks={fetchBooks}/>\r\n\r\n            <Observer>\r\n                {() => (\r\n                    bookStore.showBookInfo \r\n                        ? <CardInfo/>\r\n                        : null\r\n                )}\r\n            </Observer>\r\n            <Observer>{() => ( isBooksLoading && <Loader/> )}</Observer>\r\n            <Observer>\r\n                {() => (\r\n                    !bookStore.showBookInfo && !isBooksLoading && !startSettingStore.isStartApp\r\n                        && <CardList fetchError={fetchError}/>        \r\n                )}\r\n            </Observer>            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__68jsa\",\"header_title\":\"AppHeader_header_title__2U1TQ\",\"header_search\":\"AppHeader_header_search__3mvkU\",\"header_filters\":\"AppHeader_header_filters___cfYx\",\"filters_category\":\"AppHeader_filters_category__1vuiT\",\"filters_name\":\"AppHeader_filters_name__3j5T2\",\"filters_sort\":\"AppHeader_filters_sort__2OMT9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"CardInfo_card__3TIjv\",\"card_img\":\"CardInfo_card_img__3zFg0\",\"card_info\":\"CardInfo_card_info__1izzO\",\"info_title\":\"CardInfo_info_title__3fVMI\",\"info_author\":\"CardInfo_info_author__2Iq8v\",\"info_category\":\"CardInfo_info_category__3IrcQ\",\"info_description\":\"CardInfo_info_description__1e8G4\",\"card_btn\":\"CardInfo_card_btn__4Zk0r\"};"],"sourceRoot":""}